extends layout

block content
  #game_list.grid_10
    table.striped_table
      tr
        th="Game Name"
        th="White Player"
        th="Black Player"
        th="Private?"
      -for (var i = 0; i < games.length; i++)
        -var game = games[i]
        tr 
          td
            a(href="/games/"+game._id+"/")
              =game.name
          td
            -if (game.white)
              =game.white.name
            -else
              form(id="myform1"+game._id, method="post", action="/games/"+game._id+"/join")
                input(type="hidden", name="color", value="white")
                a(onclick="document.getElementById('myform1"+game._id+"').submit();", href='#')
                  ="None"
          td
            -if (game.black)
              =game.black.name
            -else
              form(id="myform2"+game._id, method="post", action="/games/"+game._id+"/join")
                input(type="hidden", name="color", value="black")
                a(onclick="document.getElementById('myform2"+game._id+"').submit();", href='#')
                  ="None"
          td=game.private
  #new_game.grid_4.prefix_1
    form(name="create_game", action="/games/create", method="post")
      .label="Create a game: "
      .field
        ="Name:"
        input(type="text", name="name")
      .label="Join as:"
      .field
        input(type="radio", name="player", value="white")
        ="White"
      .field
        input(type="radio", name="player", value="black")
        ="Black"
      .field
        input(type="radio", name="player", value="spectator")
        ="Spectator"
      input(type="submit", value="Create Game")
